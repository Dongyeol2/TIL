# WHAT IS L2/L3 보안 스위치?

## 1. 스위치의 정의

- 허브(?)의 확장된 개념으로 기본 기능은 허브와 동일하지만 ***전송 중 패킷의 충돌이 일어나지 않도록 패킷의 목적지로 지정할 포트를 직접 전송***한다.
- ***스위치에서 패킷의 목적지 주소를 기준으로 보내는 곳과 받는 곳을 계산하여, 해당 포트를 1:1로 연결한다. -> Switching***
- 스위칭은 정보 전달의 수단과 회선의 효율적 운용을 위해 입출력 상태를 감시하며, 전송로의 장애 발생 시 현재 상태에서 예비 상태로 전환한다.

### 허브란?

```
허브는 OSI의 1계층(Physical layer)장비이다.
허브는 구멍이 몇 개 뚫려있느냐에 따라 '몇 포트 허브다'라고 구분한다.
구멍의 숫자는 몇 대의 장비와 연결을 할 수 있는지 결정한다.
같은 허브에 연결이 되어 있다면, PC들은 서로 통신이 가능
즉, 허브는 UTP 랜 케이블을 이용하여 가까운 거리에 있는 컴퓨터들을 연결시켜 주는 네트워크 장비이다.
```

### 허브 VS 스위치

```
허브와 스위치의 가장 큰 차이점은 각각의 포트에 연결된 컴퓨터나 네트워크 장비의 MAC 주소를 알고 있느냐 없느냐에 있다. 허브의 경우 단순한 중계기 역할을 한다. 예를들어 허브에 4대의 컴퓨터가 연결되어 있고, A 컴퓨터가 B 컴퓨터에 신호를 보내면 그 신호는 브로드캐스트되어 모든 컴퓨터로 전송이 된다. 즉, 허브는 들어오는 신호의 송신지와 수신지를 구별하지 못해 허브를 통해 연결된 모든 컴퓨터에게 신호를 전달한다.
BUT!! 스위치의 경우 내부에 메모리를 가지고 있어 각 포트에 연결되어 있는 컴퓨터들의 MAC주소들이 여기에 기록되어 있다. 즉 컴퓨터 A가 D로 신호를 보내면 그 신호는 컴퓨터 D로만 전달되고 다른 컴퓨터에는 신호를 보내지 않는다.
```

### MAC 주소란?

```
네트워크에서 사용하는 주소에는 크게 물리적인 주소와 논리적인 주소가 있다.
물리적인 주소는 하드위에 자체에 부여된 주소이며 논리적인 주소는 IP 주소나 IPX 주소와 같이 항상 변할 수 있는 사용자가 부여한 주소이다.
MAC주소 역시 IP주소와 같이 전세계에서 중복되지 않는 유일한 것이어야 하며 네트워크 장비가 생산될 때부터 부여되어 그 장비가 더이상 쓰이지 않을 때까지 MAC주소를 가지고 있다.
MAC 주소는 48비트 구조로 되어 있으며 이 중 앞의 16비트는 장비를 생산하는 회사를 뜻하고, 뒷부분은 장비를 생산한 회사에서 임의로 부여한 주소이다. 
```



## 2. 스위치의 특징

- 패킷을 보내는 노드와 받는 노드를 1:1로 연결해 주기 때문에 충돌이 발생하지 않는다. -> 빠른 속도로 전송 가능
- 두개의 노드가 통신을 하는 동안 다른 노드들도 서로간의 통신이 동시에 가능하며, 이더넷에서 높은 효율을 갖는다.
- 노드의 수가 증가해도 속도의 저하가 일어나지 않으며, 패킷의 감청이 얼운 구조이므로 보안성이 높다.
- 기본적으로 Processor, RAM, OS를 탑재하므로 많은 부가 기능을 갖는다.

## 3. 스위치의 장점

- 완전한 2중화와 Fault-Tolerant 구성이 가능하며, 대역폭 비용이 낮아진다.
- 트래픽 제어가 상대적으로 높으며, 포트 당 속도가 일정하게 보장된다.
- 여러 노드에서 동시 통신을 할 때 속도 저하가 없고, 성능이 향상된다.
- 전이중 통신 모드로 네트워크상의 불필요한 패킷의 흐름을 막으며, 충돌이 발생하지 않아 빠른 속도의 전송이 가능하다.
- 각 DTE는 스위치를 몰라도 데이터 전송에는 상관 없으며, 많은 부가 기능이 있다.

## 4. 스위치의 구분

- 어떤 주소를 가지고 스위칭을 하는가에 따라 L2, L3, L4 스위치로 구분된다.
- L2는 MAC 주소, L3은 프로토콜 주소, L4는 세션 프로토콜을 이용하여 스위칭 할 수 있다.

## 5. Layer 2 스위치의 특징

- L2 스위치로 가장 흔히 볼 수  있는 스위칭 방식이며, 다른 방식에 비해 저렴하다.
- 패킷의 MAC 주소를 읽어 스위칭을 하고, MAC이 OSI 계층 중 2계층에 해당하기 때문에 Layer 2 스위치라고 한다.
- 기본적인 동작은 브리지나 스위칭 허브는 모든 자료를 보내는 곳으로 수신 번지를 전송한다.
- 브리지는 어떤 포트에서 받은 데이터를 다른 모든 포트로 전송하나 L2 스위치 허브에서는 여러개의 포트 중 특정 포트로만 전송한다.

## 6.Layer3 스위치의 특징

- L3 스위치로 포트간 패킷 스위칭을 위해 패킷의 IP나 IPX 주소를 읽어서 스위칭을 하며, 통신 경로를 한번만 설정한다.
- 해당 프로토콜을 쓰는 패킷에 대해 스위칭이 가능하며, IP나 IPX 주소가 OSI 7계층 중 3계층에 해당하기 때문에 Layer 3 스위치라 한다.
- L2 스위치에 라우팅(Routing) 기능을 추가하고, 대부분의 고성능 하드웨어를 기초로 하였다. -> 기본 구성은 L2와 동일

### 궁금증

1. L3 스위치는 L2 스위치의 대부분의 기능을 수행하며 추가로 더 나은 성능(라우팅 기능, 보안성, 고급 스위칭)을 제공한다. 그렇다면 굳이 L2 스위치를 사용하는 이유는 뭘까??