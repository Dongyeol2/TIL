{% extends 'base.html' %}
{% load bootstrap4 %}
{% load static %}
{% block body %}
<h1 class="text-center">DETAIL</h1>

<p>글 번호:{{article.pk}}</p>
<p>글 제목:{{article.title}}</p>
<p>글 내용:{{article.content}}</p>
<p>생성시각:{{article.created_at}}</p>
<p>수정시각:{{article.updated_at}}</p>
<hr>
<a href="{% url 'articles:index' %}">[BACK]</a>
<a href="{% url 'articles:delete' article.pk %}">[DELETE]</a>
<a href="{% url 'articles:update' article.pk %}">[UPDATE]</a>

<hr>
<form action="{% url 'articles:comment_create' article.pk %}" method="POST">
  {% csrf_token %}
  {{ comment_form }}
  {% buttons submit='댓글 작성'%}
  {% endbuttons %}
</form>

<hr>
<p><b>댓글목록({{ comments|length }}개)</b></p>
{% for comment in comments %}
  <li>
    <p>[{{ forloop.revcounter }}] {{comment.content}}
    <form action="{% url 'articles:comment_delete' article.pk comment.pk %}" method="POST">
      {% csrf_token %}
      {% buttons submit='삭제'%}
      {% endbuttons %}
    </from>
  </li>
{% empty %}
  <p>댓글이 없는데요..ㅠㅠㅜ</p>
{% endfor %}

{% endblock body %}
